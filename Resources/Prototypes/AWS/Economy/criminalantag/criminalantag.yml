- type: antag
  id: CriminalAntag
  name: economy-criminalantag-name
  antagonist: true
  setPreference: true
  objective: economy-criminalantag-objective

- type: entity
  parent: BaseMindRoleAntag
  id: MindRoleCriminalAntag
  name: CriminalAntag Role
  components:
  - type: MindRole
    antagPrototype: CriminalAntag
    exclusiveAntag: true
    roleType: SoloAntagonist
  - type: CriminalAntagRole

- type: entity
  abstract: true
  parent: BaseGameRule
  id: BaseCriminalAntagRule
  components:
  - type: CriminalAntagRule
  - type: AntagSelection
    agentName: economy-criminalantag-agent-name

- type: entity
  categories: [ HideSpawnMenu ]
  parent: BaseCriminalAntagRule
  id: CriminalAntagGameRule
  components:
  - type: GameRule
    minPlayers: 5
    delay:
      min: 240
      max: 420
  - type: CriminalAntagRule
  - type: AntagObjectives
    objectives:
    - CriminalAntagObjective
    - CriminalAntagEscapeObjective
  - type: AntagSelection
    definitions:
    - prefRoles: [ CriminalAntag ]
      max: 8
      playerRatio: 10
      blacklist:
        components:
        - AntagImmune
      lateJoinAdditional: true
      mindRoles:
        - MindRoleCriminalAntag
      briefing:
        text: economy-criminalantag-briefing
        sound: "/Audio/Misc/thief_greeting.ogg"

- type: entity
  categories: [ HideSpawnMenu ]
  parent: BaseCriminalAntagRule
  id: CriminalAntag
  components:
  - type: StationEvent
    earliestStart: 25
    weight: 6
    minimumPlayers: 15
    reoccurrenceDelay: 30
    startAnnouncement: false
    duration: null
    occursDuringRoundEnd: false
  - type: CriminalAntagRule
  - type: AntagObjectives
    objectives:
    - CriminalAntagObjective
    - CriminalAntagEscapeObjective
  - type: AntagSelection
    selectionTime: PostPlayerSpawn
    definitions:
    - prefRoles: [ CriminalAntag ]
      min: 1
      max: 4
      playerRatio: 12
      blacklist:
        components:
        - AntagImmune
      lateJoinAdditional: false
      mindRoles:
        - MindRoleCriminalAntag
      briefing:
        text: economy-criminalantag-briefing
        sound: "/Audio/Misc/thief_greeting.ogg"

- type: entity
  parent: BaseObjective
  id: CriminalAntagObjective
  components:
  - type: Objective
    issuer: economy-criminalantag-agent-name
    difficulty: 0
  - type: StealMoneyCondition
  - type: RoleRequirement
    roles:
      mindRoles:
      - CriminalAntagRole

- type: entity
  parent: [BaseObjective, BaseLivingObjective]
  id: CriminalAntagEscapeObjective
  components:
  - type: Objective
    issuer: economy-criminalantag-agent-name
    title: objective-condition-escape-shuttle-title
    description: objective-condition-escape-shuttle-description
    difficulty: 1.3
    icon:
      sprite: Structures/Furniture/chairs.rsi
      state: shuttle
  - type: EscapeShuttleCondition
  - type: RoleRequirement
    roles:
      mindRoles:
      - CriminalAntagRole

